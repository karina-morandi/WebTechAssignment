<!DOCTYPE html>
<html lang="en">
<head>
<!-- <meta charset="UTF-8"> -->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vinoteca Homepage</title>

<!-- Bootstrap CSS  -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

<!-- Bootstrap JavaScript (Optional, for some components)  -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

<link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,900&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<link rel="stylesheet" href="css/style.css">

<script type="module" src="js/main.js"></script>
<link href="css/main.css" rel="stylesheet">
 
</head>

<body>

<!-- HOME PAGE -->
<div id="homePage">
	<header class="top-nav">
    <div class="container-fluid d-flex justify-content-between align-items-center">
        <div class="logo-welcome">
            <img src="../images/vinotecaLogo.png" alt="Logo" class="logo img-fluid">
           <!--  <div class="welcome-text">
                <p class="welcome-text">Welcome to</p>
                <p class="vinoteca-text">Vinoteca</p>
            </div> -->
        </div>
        <div class="user-tools ml-auto">
            <a id="loginButtonHome" class="login-button">Login</a>
            
            
            
            
            
            
            <div class="cart-container">
			    <button id="cartButtonHome" class="cart-button" style="display: none;">Cart</button>
			    <div id="cartDropdown" class="cart-dropdown">
			        <!-- Cart items will be dynamically inserted here -->
			    </div>
			</div>
            
            
            
            
            
            
            
            
<!--             <a id="cartButtonHome" class="cart-button" style="display: none;">Cart</a> -->
            <a id="logoutButtonHome" class="logout-button" style="display: none;">Logout</a>
        </div>
    </div>
	</header>
	<div class="parallax-container" style="height: 1000px;">
		<div class="container-fluid homePage">
		    <div class="background-image"></div>
		    <button id="wineListButton" class="btn btn-primary">View Wines on Sale</button>			
		</div>
	</div>
	<div class="wine-container">
    <div class="wine-item">
        <img src="../images/Blanco.png" alt="Wine Image" class="wine-image">
        <div class="wine-details">
            <h3 class="wine-name">Blanco</h3>
            <p class="winery">Alma Negra</p>
            <p class="country">Argentina</p>
            <a href="#" class="view-details-button">View Details</a>
        </div>
    </div>
    <div class="wine-item">
        <img src="../images/BurgoViejo.png" alt="Wine Image" class="wine-image">
        <div class="wine-details">
            <h3 class="wine-name">Rioja Reserva</h3>
            <p class="winery">Burgo Viejo</p>
            <p class="country">Spain</p>
            <a href="#" class="view-details-button">View Details</a>
        </div>
    </div>
    <div class="wine-item">
        <img src="../images/Costa dei Trabocchi.png" alt="Wine Image" class="wine-image">
        <div class="wine-details">
            <h3 class="wine-name">Costa dei Trabocchi</h3>
            <p class="winery">Vallev√≤</p>
            <p class="country">Italy</p>
            <a href="#" class="view-details-button">View Details</a>
        </div>
    </div>
</div>
</div>

<div class="content">

<!-- Full wine list for customers! -->
<div id="wineListDiv" class="wine-list-wrapper" style="display:none;">
    <h1 class="wine-list-title">Our Wines</h1>
    <div class="container wine-list-container">
        <div class="row justify-content-center">
            <div class="col-md-4">
	            <div class="sorting-options">
	                    <label for="sortSelect">Sort by:</label>
	                    <select id="sortSelect" onchange="sortWines()">
	                        <option value="name">Name</option>
	                        <option value="price-asc">Price (Low to High)</option>
	                        <option value="price-desc">Price (High to Low)</option>
	                    </select>
	                </div>
                <button id="closeWineListButton" type="button" class="btn-close close-button" aria-label="Close"></button>
            </div>
            <div class="col-md-8">
                 <form id="search-by-name" role="search">
				 	<input id="searchTextList" class="form-control me-2" type="search" placeholder="Search by name" aria-label="Search">
				 	<button id="searchButtonList" class="btn btn-primary" type="submit">Search</button>
				 </form>
            </div>
        </div>
        <div class="row" id="wineListBody">
            <!-- Wine list will be displayed here -->
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="wineModal" tabindex="-1" aria-labelledby="wineModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-md">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" id="wineModalBody">
	    <div class="wine-details-container">
                   <div class="wine-image-container">
                       <img src="" alt="Wine Image" class="wine-image">
                   </div>
                   <div class="wine-details">
	                   <h3 class="wine-name"></h3>
	                   	   <p><strong>Year:</strong> <span class="wine-year"></span></p>
		                   <p><strong>Color:</strong> <span class="wine-color"></span></p>
		                   <p><strong>Winery:</strong> <span class="wine-winery"></span></p>
		                   <p><strong>Grapes:</strong> <span class="wine-grapes"></span></p>
		                   <p><strong>Country:</strong> <span class="wine-country"></span></p>
		                   <p><strong>Region:</strong> <span class="wine-region"></span></p>
		                   <p><span class="wine-description"></span></p>
		                   <p><strong>Price:</strong> <span class="wine-price"></span></p>
	                       <div class="user-actions">
								<span>Average Rating:</span>
	                      		<div class="average-rating">
		                           <div class="average-star-rating"></div>
		                           <span class="average-rating-value"></span>
		                       </div>
	                           <div class="rating-section">
	                               <label for="rating">Rate this wine:</label>
	                               <input type="number" id="rating" min="1" max="5">
	                           </div>
	                           <button class="btn btn-primary submit-rating-button">Submit Rating</button>
	                           <input type="number" id="quantity" min="1" value="1">
	                           <div class="add-to-cart-button-container">
   		                       </div>
                           <!-- Add comment form here -->
                           <!-- Add purchase option here -->
                       </div>
                   </div>
               </div>
            </div>
            <!-- You can add a form for comments, rating, and purchase option here -->
        </div>
    </div>
</div>

<!-- LOGIN FORM -->
<div id="loginFormDiv" style="display:none;" class="row justify-content-center">
	<div class="col-md-12 col-lg-10">
		<div class="wrap d-md-flex">
			<div class="text-wrap p-4 p-lg-5 text-center d-flex align-items-center order-md-last">
				<div class="text w-100">
					<h2>Welcome to login</h2>
					<p>Don't have an account?</p>
					<button type="button" id="registerButton" class="btn btn-white btn-outline-white">Sign Up</button>
				</div>
	      </div>
				<div class="login-wrap p-4 p-lg-5">
	      	<div class="d-flex">
	      		<div class="w-100">
	      			<h3 class="mb-4">Sign In</h3>
	      		</div>
	      	</div>
			<form id="loginForm" action="/user/login" method="POST">
      			<label class="label" for="loginUsername">Username</label>
      			<input type="text" class="form-control" id="loginUsername" name="loginUsername" required>
	           	<label class="label" for="loginPassword">Password</label>
	            <input type="password" class="form-control" id="loginPassword" name="loginPassword" required>
	           	<div class="form-group">
	           		<button type="submit" class="btn btn-primary">Login</button>
          		</div>
       		</form>
       </div>
     </div>
	</div>
</div>

<!-- REGISTRATION FORM -->
<div id="registrationForm" style="display:none;" class="row justify-content-center">
	<div class="col-md-12 col-lg-10">
		<div class="wrap d-md-flex">
			<div class="text-wrap p-4 p-lg-5 text-center d-flex align-items-center order-md-last">
				<div class="text w-100">
					<h2>Registration!</h2>
				</div>
      </div>
			<div class="login-wrap p-4 p-lg-5">
			<form id="registerForm">
			<div class="form-group">
     			<label class="label" for="usernameReg">Username</label>
     			<input type="text" class="form-control" id="usernameReg" name="usernameReg" required>
      		</div>
      		<div class="form-group">
     			<label class="label" for="emailReg">Email</label>
	            <input type="email" class="form-control" id="emailReg" name="emailReg" required>
	      </div>
	      <div class="form-group">
	            <label class="label" for="passwordReg">Password</label>
	            <input type="password" class="form-control" id="passwordReg" name="passwordReg" required>
	      </div>
	      <div class="form-group">
	          	<label class="label" for="confirmpasswordReg">Confirm Password</label>
	            <input type="password" class="form-control" id="confirmpasswordReg" name="confirmpasswordReg" required>
	        </div>
			<div class="form-group">
	               <label for="role">Role:</label>
	               <select class="form-control" id="role" name="role" required>
	                   <option value="ADMIN">Admin</option>
	                   <option value="CUSTOMER">Customer</option>
	               </select>
	           </div>
            
            
           <div class="form-group">
           	<button type="submit" class="form-control btn btn-primary submit px-3">Register</button>
           </div>
         </form>
       </div>
     </div>
	</div>
</div>
	    
	    <!-- ADMIN DASHBOARD -->
<div id="admin" class="container-fluid" style="display: none;">
    <!-- Top Navbar -->
    <nav class="navbar top-nav">
        <div class="container-fluid d-flex justify-content-between align-items-center">
            <a class="navbar-brand" href="#">All Wines</a>
            <button class="settings-button" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
                <div class="hamburger-icon"></div>
                <div class="hamburger-icon"></div>
                <div class="hamburger-icon"></div>
            </button>
	
	
		<!-- View Type Radio Buttons -->
		<div class="container mt-3">
			<div class="form-check">
			  <input class="form-check-input" type="radio" name="exampleRadios" id="listView" value="list" checked>
			  <label class="form-check-label" for="exampleRadios1">
			    List
			  </label>
			</div>
			<div class="form-check">
			  <input class="form-check-input" type="radio" name="exampleRadios" id="gridView" value="grid">
			  <label class="form-check-label" for="exampleRadios2">
			    Grid
			  </label>
			</div>
			<div class="form-check">
			  <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios3" value="option3" disabled>
			  <label class="form-check-label" for="exampleRadios3">
			    Disabled radio
			  </label>
			</div>
		</div>
	  </div>
	  <div class="container theScroll">
		  <table class="table" id="winesTable">
	        <thead>
	           <!--  <tr>
	                <th>Winery</th>
	                <th>Name</th>
	                <th>Country</th>
	                <th>Edit</th>
	            </tr> -->
	        </thead>
	        <tbody id="winesContent">
	            <!-- Wine entries will be dynamically added here -->
	        </tbody>
	    </table>
	  </div>
	    
	  <div id="customers" class="container mt-3">
	  
	  </div>
	  
	  <div id="orders" class="container mt-3">
	  
	  </div>
	  
	    
	  <div class="container theScroll" id="detailsTable">    
	    <table class="table" id="ordersTable">
			<tr id="orderID_row">
				<td>Order Id</td>
				<td><input type="text" id="orderID"></td>
			</tr>
			<tr>
				<td>Product Id</td>
				<td><input type="text" id="prodID"></td>
			</tr>
			<tr>
				<td>Item</td>
				<td><input type="text" id="prodName"></td>
			</tr>
			<tr>
				<td>Price</td>
				<td><input type="text" id="prodPrice"></td>
			</tr>
			<tr>
				<td>Quantity</td>
				<td><input type="text" id="prodQuantity"></td>
			</tr>
			<tr>
				<td><button class="w3-button w3-orange" id="UpdateOrder">Update</button></td> 
				<td><button class="w3-button w3-red" id="deleteOrder">Delete</button></td>
			</tr>
		</table>
	  </div>
	  
	  
	  
	  
	  
	  
	</nav>
	
	<!-- Side Navbar -->
	<nav class="navbar side-nav">
	  <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
	    <div class="offcanvas-header">
	      <h5 class="offcanvas-title" id="offcanvasNavbarLabel">World Wines</h5>
	      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
	    </div>
	    <div class="offcanvas-body">      
	      <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
	        <li class="nav-item">
	          <a class="nav-link active" aria-current="page">
	          	<button type="button" class="form-control btn btn-primary submit px-3" id="homeButton">Home</button></a>
	        </li>
	        <li class="nav-item">
	          <button type="button" class="form-control btn btn-primary submit px-3" id="findallWine">All Wines</button>
	        </li>
	       <!--  <li class="nav-item">
	          <button type="button" class="form-control btn btn-primary submit px-3" id="viewOrders">View Orders</button>
	        </li> -->
	        <li class="nav-item">
	          <button type="button" class="form-control btn btn-primary submit px-3" id="fetchCustomersBtn">View Customers</button>
	        </li>
	        <li class="nav-item dropdown">
	          <a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-expanded="false">
	            Wine Management
	          </a>
	          <ul class="dropdown-menu">
	            <li><a class="dropdown-item" id="newWine">Add a wine</a></li>
	            <li><a class="dropdown-item" id="deleteWine">Delete a wine</a></li>
	            <li>
	              <hr class="dropdown-divider">
	            </li>
	            <li><a class="dropdown-item" id="clearList" onclick="clearList()">Clear List</a></li>
	          </ul>
	        </li>
	      </ul>
	      <form id="searchForm" class="d-flex mt-3" role="search">
	        <input id="searchInput" class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
	        <button id="searchButton" class="btn btn-outline-success" type="submit">Search</button>
	      </form>
	      <button type="button" class="btn btn-primary logout-button" id="logoutButton">
             <span class="align-text-bottom"></span>
             Logout
         </button>
	    </div>
	  </div>
	</nav>
</div>

 <!-- This modal will prompt the user for info to create a new wine -->
    <div class="modal fade" id="createWineModal" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Add a Wine</h4>
                </div>
                <form id="createWineForm" class="modal-body" enctype="multipart/form-data">
                    <label>Name</label>
                    <input type="text" id="Name" name="Name"><br />
                    
                    <label>Year</label>
                    <input type="number" id="Year" name="Year"><br />
                    
                    <label>Color</label>
                    <input type="text" id="Color" name="Color"><br />
                    
                    <label>Winery</label>
                    <input type="text" id="Winery" name="Winery"><br />
                    
                    <label>Grapes</label>
                    <input type="text" id="Grapes" name="Grapes"><br />
                    
                    <label>Country</label>
                    <input type="text" id="Country" name="Country"><br />
                    
                    <label>Region</label>
                    <input type="text" id="Region" name="Region"><br />
                    
                    <label>Price</label>
                    <input type="number" id="Price" name="Price"><br />
                    
                    <label>Description</label>
                    <input type="text" id="Description" name="Description"><br />
                    
                    <label>Picture</label>
                    <input type="file" id="Picture" name="pictureFile"><br />
                </form>
                
                <!-- start of file upload modal -->
                    <div class="modal fade" id="uploadFileModal" role="dialog">
                        <div class="modal-dialog">
                            <!-- Modal content-->
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4 class="modal-title">Upload File</h4>
                                </div>
                                <div class="modal-body" id="contents">
                                    <form id="fileUploadForm" enctype="multipart/form-data">
                                        <div class="form-group">
                                            <label for="fileToUpload">Select file to upload:</label>
                                            <input type="file" class="form-control" id="fileToUpload" name="fileToUpload" required>
                                        </div>
                                        <button type="button" class="btn btn-primary" id="btnUpload">Upload File</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
				<!-- end of file upload modal -->
				
                <div class="modal-footer">
                    <button type="button" id="submitWine" class="form-control btn btn-primary submit px-3">Submit</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    
    <!-- This modal will prompt the user for info to delete a wine -->
    <div class="modal fade" id="deleteWineModal" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Delete a Wine</h4>
                </div>
                <form id="deleteWineForm" class="modal-body">
                    <label>Name</label>
                    <input type="text" id="deleteName" name="deleteName"><br />
                </form>
                <div class="modal-footer">
                    <button type="button" id="submitDeleteWine" class="form-control btn btn-primary submit px-3">Submit</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

<!-- This modal will prompt the user for info to edit a wine -->
<div class="modal fade" id="editWineModal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Edit Wine</h4>
            </div>
            <form id="editWineForm" class="modal-body" enctype="multipart/form-data">
                <!-- Input fields for editing wine properties -->
                <label>Name</label>
                <input type="text" id="editName" name="editName"><br />
                
                <label>Year</label>
                <input type="number" id="editYear" name="editYear"><br />
                
                <label>Color</label>
                <input type="text" id="editColor" name="editColor"><br />
                
                <label>Winery</label>
                <input type="text" id="editWinery" name="editWinery"><br />
                
                <label>Grapes</label>
                <input type="text" id="editGrapes" name="editGrapes"><br />
                
                <label>Country</label>
                <input type="text" id="editCountry" name="editCountry"><br />
                
                <label>Region</label>
                <input type="text" id="editRegion" name="editRegion"><br />
                
                <label>Price</label>
                <input type="number" id="editPrice" name="editPrice"><br />
                
                <label>Description</label>
                <input type="text" id="editDescription" name="editDescription"><br />
                
                <label>Picture</label>
                <input type="file" id="editPicture" name="editPicture"><br />
                <!-- Add other input fields as needed -->
            </form>
            <div class="modal-footer">
                <button type="button" id="submitEditWine" class="form-control btn btn-primary submit px-3">Update</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
</div>

<footer class="footer">
    <p> Made with quality </p>
  </footer>
</body>
</html>
